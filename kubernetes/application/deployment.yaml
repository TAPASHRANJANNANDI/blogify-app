apiVersion: apps/v1
kind: Deployment
metadata: 
  name: blog-app
spec:
  replicas: 2 
  selector: 
      matchLabels: 
        app: blog-app
  template: 
      metadata: 
        labels:
          app: blog-app
      spec: 
         containers: 
           - name: blog-app
             image: tapashranjannandi/node-app-blogify:latest
             ports: 
                - containerPort: 8000
             env: 
                - name: MONGO_URL
                  value: "mongodb://mongo-service:27017/test"
            livenessProbe: 
              httpGet:
                path: /
                port: 8000
              initialDelaySeconds: 2
              periodSeconds: 5
            readinessProbe:
              httpGet:
                path: /
                port: 8000
              initialDelaySeconds: 5
              periodSeconds: 5
              successThreshold: 1
